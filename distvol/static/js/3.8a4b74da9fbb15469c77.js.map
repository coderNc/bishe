{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.number.is-integer.js","webpack:///./node_modules/core-js/library/modules/_is-integer.js","webpack:///./node_modules/babel-runtime/core-js/number/is-integer.js","webpack:///src/components/common/other/IdentifyCode.vue","webpack:///./src/components/common/other/IdentifyCode.vue?d352","webpack:///./src/components/common/other/IdentifyCode.vue","webpack:///src/components/common/other/test.vue","webpack:///./src/components/common/other/test.vue?ca77","webpack:///./src/components/common/other/test.vue","webpack:///./node_modules/core-js/library/fn/number/is-integer.js"],"names":["$export","__webpack_require__","S","isInteger","isObject","floor","Math","module","exports","it","isFinite","default","__esModule","IdentifyCode","name","props","identifyCode","type","String","fontSizeMin","Number","fontSizeMax","backgroundColorMin","backgroundColorMax","colorMin","colorMax","lineColorMin","lineColorMax","dotColorMin","dotColorMax","contentWidth","contentHeight","methods","randomNum","min","max","random","randomColor","this","drawPic","ctx","document","getElementById","getContext","textBaseline","fillStyle","fillRect","i","length","drawText","drawLine","drawDot","txt","font","x","y","deg","translate","rotate","PI","fillText","strokeStyle","beginPath","moveTo","lineTo","stroke","arc","fill","watch","mounted","other_IdentifyCode","render","_h","$createElement","_c","_self","staticClass","attrs","id","width","height","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","test","components","identify-code","data","_this","ruleForm","pass","checkPass","age","verificationCode","identifyCodes","rules","validator","rule","value","callback","Error","$refs","validateField","trigger","setTimeout","is_integer_default","toLowerCase","submitForm","formName","_this2","validate","valid","console","log","result","stringify_default","resetForm","resetFields","refreshCode","makeCode","o","l","other_test","_vm","ref","model","status-icon","label-width","label","prop","autocomplete","$$v","$set","expression","_v","_n","on","click","$event"],"mappings":"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","file":"static/js/3.8a4b74da9fbb15469c77.js","sourcesContent":["// 20.1.2.3 Number.isInteger(number)\nvar $export = require('./_export');\n\n$export($export.S, 'Number', { isInteger: require('./_is-integer') });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.number.is-integer.js\n// module id = 1alW\n// module chunks = 2 3","// 20.1.2.3 Number.isInteger(number)\nvar isObject = require('./_is-object');\nvar floor = Math.floor;\nmodule.exports = function isInteger(it) {\n  return !isObject(it) && isFinite(it) && floor(it) === it;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_is-integer.js\n// module id = AKgy\n// module chunks = 2 3","module.exports = { \"default\": require(\"core-js/library/fn/number/is-integer\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/number/is-integer.js\n// module id = RRo+\n// module chunks = 2 3","<template>\r\n  <div class=\"s-canvas\">\r\n    <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"/>\r\n  </div>\r\n</template>\r\n<script>\r\n  export default{\r\n    name: 'identify-code',\r\n    //接受父组件的传值\r\n    props: {\r\n      //展示的图片验证码\r\n      identifyCode: {\r\n        type: String,\r\n        default: '1234'\r\n      },\r\n      //字体大小，最小值\r\n      fontSizeMin: {\r\n        type: Number,\r\n        default: 16\r\n      },\r\n      //字体大小，最大值\r\n      fontSizeMax: {\r\n        type: Number,\r\n        default: 40\r\n      },\r\n      //背景颜色色值最小值，最小为\r\n      backgroundColorMin: {\r\n        type: Number,\r\n        default: 180\r\n      },\r\n      //背景颜色色值最大值，最大为255\r\n      backgroundColorMax: {\r\n        type: Number,\r\n        default: 240\r\n      },\r\n      //字体颜色色值最小值，最小为0\r\n      colorMin: {\r\n        type: Number,\r\n        default: 50\r\n      },\r\n      //字体颜色色值最大值，最大为255\r\n      colorMax: {\r\n        type: Number,\r\n        default: 160\r\n      },\r\n      //干扰线颜色色值最小值，最小为0\r\n      lineColorMin: {\r\n        type: Number,\r\n        default: 40\r\n      },\r\n      //干扰线颜色色值最大值，最大为255\r\n      lineColorMax: {\r\n        type: Number,\r\n        default: 180\r\n      },\r\n      //干扰点颜色色值最小值，最小为0\r\n      dotColorMin: {\r\n        type: Number,\r\n        default: 0\r\n      },\r\n      //干扰点颜色色值最大值，最大为255\r\n      dotColorMax: {\r\n        type: Number,\r\n        default: 255\r\n      },\r\n      //画布（图片）宽度\r\n      contentWidth: {\r\n        type: Number,\r\n        default: 112\r\n      },\r\n      //画布（图片）高度\r\n      contentHeight: {\r\n        type: Number,\r\n        default: 38\r\n      }\r\n    },\r\n    methods: {\r\n      // 生成一个随机数\r\n      randomNum (min, max) {\r\n        return Math.floor(Math.random() * (max - min) + min)\r\n      },\r\n      // 生成一个随机的颜色\r\n      randomColor (min, max) {\r\n        let r = this.randomNum(min, max)\r\n        let g = this.randomNum(min, max)\r\n        let b = this.randomNum(min, max)\r\n        return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n      },\r\n      //利用canvas，生成图片验证码\r\n      drawPic () {\r\n        let canvas = document.getElementById('s-canvas')\r\n        let ctx = canvas.getContext('2d')\r\n        ctx.textBaseline = 'bottom'\r\n        // 绘制背景\r\n        ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\r\n        ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n        // 绘制文字\r\n        for (let i = 0; i < this.identifyCode.length; i++) {\r\n          this.drawText(ctx, this.identifyCode[i], i)\r\n        }\r\n        this.drawLine(ctx)\r\n        this.drawDot(ctx)\r\n      },\r\n      //画验证码\r\n      drawText (ctx, txt, i) {\r\n        ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n        ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n        let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n        let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n        var deg = this.randomNum(-45, 45)\r\n        // 修改坐标原点和旋转角度\r\n        ctx.translate(x, y)\r\n        ctx.rotate(deg * Math.PI / 180)\r\n        ctx.fillText(txt, 0, 0)\r\n        // 恢复坐标原点和旋转角度\r\n        ctx.rotate(-deg * Math.PI / 180)\r\n        ctx.translate(-x, -y)\r\n      },\r\n      drawLine (ctx) {\r\n        // 绘制干扰线\r\n        for (let i = 0; i < 8; i++) {\r\n          ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n          ctx.beginPath()\r\n          ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n          ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n          ctx.stroke()\r\n        }\r\n      },\r\n      drawDot (ctx) {\r\n        // 绘制干扰点\r\n        for (let i = 0; i < 100; i++) {\r\n          ctx.fillStyle = this.randomColor(0, 255)\r\n          ctx.beginPath()\r\n          ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n          ctx.fill()\r\n        }\r\n      }\r\n    },\r\n    watch: {\r\n      identifyCode () {\r\n        this.drawPic()\r\n      }\r\n    },\r\n    //初始生成验证码\r\n    mounted () {\r\n      this.drawPic()\r\n    }\r\n  }\r\n</script>\r\n<style scoped >\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/common/other/IdentifyCode.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"s-canvas\"},[_c('canvas',{attrs:{\"id\":\"s-canvas\",\"width\":_vm.contentWidth,\"height\":_vm.contentHeight}})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45338094\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/other/IdentifyCode.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45338094\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./IdentifyCode.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdentifyCode.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./IdentifyCode.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45338094\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./IdentifyCode.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-45338094\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/other/IdentifyCode.vue\n// module id = null\n// module chunks = ","<template>\r\n  <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n  <el-form-item label=\"密码\" prop=\"pass\">\r\n    <el-input type=\"password\" v-model=\"ruleForm.pass\" autocomplete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"确认密码\" prop=\"checkPass\">\r\n    <el-input type=\"password\" v-model=\"ruleForm.checkPass\" autocomplete=\"off\"></el-input>\r\n  </el-form-item>\r\n  <el-form-item label=\"年龄\" prop=\"age\">\r\n    <el-input v-model.number=\"ruleForm.age\"></el-input>\r\n  </el-form-item>\r\n  \r\n  <el-form-item label=\"验证码\" prop=\"verificationCode\">\r\n    <el-input v-model=\"ruleForm.verificationCode\" autocomplete=\"off\"></el-input>\r\n    \t<div @click=\"refreshCode\">\r\n        <identify-code\r\n              :identifyCode=\"identifyCode\"\r\n              :contentWidth=\"150\"\r\n              :contentHeight=\"50\"\r\n              :fontSizeMin=\"50\"\r\n          />\r\n\t    </div>\r\n  </el-form-item>\r\n\r\n  <el-form-item>\r\n    <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\r\n    <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n  </el-form-item>\r\n</el-form>\r\n</template>\r\n\r\n<script>\r\n\r\nimport IdentifyCode from './IdentifyCode'\r\n  export default {\r\n    components: {\r\n            'identify-code': IdentifyCode,\r\n        },\r\n    data() {\r\n      var checkAge = (rule, value, callback) => {\r\n        if (!value) {\r\n          return callback(new Error('年龄不能为空'));\r\n        }\r\n        setTimeout(() => {\r\n          if (!Number.isInteger(value)) {\r\n            callback(new Error('请输入数字值'));\r\n          } else {\r\n            if (value < 18) {\r\n              callback(new Error('必须年满18岁'));\r\n            } else {\r\n              callback();\r\n            }\r\n          }\r\n        }, 1000);\r\n      };\r\n      var validatePass = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请输入密码'));\r\n        } else {\r\n          if (this.ruleForm.checkPass !== '') {\r\n            this.$refs.ruleForm.validateField('checkPass');\r\n          }\r\n          callback();\r\n        }\r\n      };\r\n      var validatePass2 = (rule, value, callback) => {\r\n        if (value === '') {\r\n          callback(new Error('请再次输入密码'));\r\n        } else if (value !== this.ruleForm.pass) {\r\n          callback(new Error('两次输入密码不一致!'));\r\n        } else {\r\n          callback();\r\n        }\r\n      };\r\n      var codeRules = (rule, value, callback) => {\r\n                if (value === '') {\r\n                    //return \"验证码不能为空\";\r\n                    return callback(new Error('验证码不能为空'));\r\n                }else if (value.toLowerCase() !== this.identifyCode.toLowerCase()) {\r\n                    //return \"验证码输入不正确\";\r\n                    return callback(new Error('验证码输入不正确!'));\r\n                } else {\r\n                    return callback();;\r\n                }\r\n            }\r\n      return {\r\n        ruleForm: {\r\n          pass: '',\r\n          checkPass: '',\r\n          age: '',\r\n          verificationCode:''\r\n        },\r\n        \t//生成验证码的字符范围\r\n            identifyCodes: \"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz0123456789\",\r\n            //生成的验证码\r\n            identifyCode: \"\",\r\n        rules: {\r\n          pass: [\r\n            { validator: validatePass, trigger: 'blur' }\r\n          ],\r\n          checkPass: [\r\n            { validator: validatePass2, trigger: 'blur' }\r\n          ],\r\n          age: [\r\n            { validator: checkAge, trigger: 'blur' }\r\n          ],\r\n          verificationCode:[\r\n            { validator: codeRules, trigger: 'blur'}\r\n          ]\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      submitForm(formName) {\r\n        \r\n        this.$refs[formName].validate((valid) => {\r\n          if (valid) {\r\n            \r\n            console.log(this.ruleForm);\r\n            var result = {\r\n              pass:this.ruleForm.pass,\r\n              checkPass:this.ruleForm.checkPass,\r\n              age:this.ruleForm.age,\r\n            }\r\n            result = JSON.stringify(result)\r\n            console.log(result);\r\n            //alert('submit!');\r\n          } else {\r\n            console.log('error submit!!');\r\n            return false;\r\n          }\r\n        });\r\n      },\r\n      resetForm(formName) {\r\n        this.$refs[formName].resetFields();\r\n      },\r\n            //生成随机数\r\n            randomNum(min, max) {\r\n                return Math.floor(Math.random() * (max - min) + min);\r\n            },\r\n            //刷新验证码\r\n            refreshCode() {\r\n                this.identifyCode = \"\";\r\n                this.makeCode(this.identifyCodes, 4);\r\n            },\r\n            //生成验证码，l为生成验证码的长度\r\n            makeCode(o, l) {\r\n                for (let i = 0; i < l; i++) {\r\n                \t//随机字符串拼接\r\n                    this.identifyCode += this.identifyCodes[\r\n                        this.randomNum(0, this.identifyCodes.length)\r\n                    ];\r\n                }\r\n            }\r\n    },\r\n    \r\n      mounted() {\r\n          this.identifyCode = \"\";\r\n          this.makeCode(this.identifyCodes, 4);\r\n      },\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/common/other/test.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"pass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.pass),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"pass\", $$v)},expression:\"ruleForm.pass\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"确认密码\",\"prop\":\"checkPass\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.checkPass),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"checkPass\", $$v)},expression:\"ruleForm.checkPass\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"年龄\",\"prop\":\"age\"}},[_c('el-input',{model:{value:(_vm.ruleForm.age),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"age\", _vm._n($$v))},expression:\"ruleForm.age\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"验证码\",\"prop\":\"verificationCode\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.ruleForm.verificationCode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"verificationCode\", $$v)},expression:\"ruleForm.verificationCode\"}}),_vm._v(\" \"),_c('div',{on:{\"click\":_vm.refreshCode}},[_c('identify-code',{attrs:{\"identifyCode\":_vm.identifyCode,\"contentWidth\":150,\"contentHeight\":50,\"fontSizeMin\":50}})],1)],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6194bed8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/common/other/test.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./test.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./test.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6194bed8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./test.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/common/other/test.vue\n// module id = null\n// module chunks = ","require('../../modules/es6.number.is-integer');\nmodule.exports = require('../../modules/_core').Number.isInteger;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/number/is-integer.js\n// module id = c45H\n// module chunks = 2 3"],"sourceRoot":""}