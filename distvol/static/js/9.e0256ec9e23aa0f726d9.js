webpackJsonp([9],{It7m:function(t,e){},qU5S:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),r=a.n(i),s=a("d8Vk"),o=(a("jt1B"),a("hrFV")),l=a("40GK"),n={name:"",mixins:[],props:{},components:{HeaderTest:s.a,Heder:o.a,Xmap:l.a},data:function(){return{dialogVisible:!1,point:[],address:"",visible:!1,value:"",orgData:{},actForm:{org_id:"",title:"",desc:"",representative:"",representative_phone:"",target_num:"",tag:"",place:"",start_time:"",end_time:""}}},watch:{},computed:{},created:function(){var t=this;this.axios({method:"POST",url:"/org/login-org"}).then(function(e){200==e.status&&1e4==e.data.data.res_status.code&&(t.orgData=e.data.data.org,t.actForm.org_id=e.data.data.org.id)});var e="陕西省西安市长安区韦曲街道安美公寓南区西安邮电大学长安校区(东区);108.9068,34.1547".split(";"),a=e[1].split(",");console.log(e),console.log(a),a[0]=parseFloat(a[0]),a[1]=parseFloat(a[1]),console.log(a)},mounted:function(){},methods:{getTimestamp:function(t){this.actForm.start_time=t[0],this.actForm.end_time=t[1]},addAct:function(){var t=this;console.log("123"),this.visible=!1,this.axios({method:"POST",url:"/activity",data:r()(this.actForm)}).then(function(e){console.log(e),200==e.status&&1e4==e.data.data.res_status.code&&(t.$message({type:"success",message:"创建成功!"}),t.$router.push("/activity"))}).catch(function(t){console.log(t)})},location:function(t,e){var a=this;this.point=t,this.$confirm("选择的地址为："+e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$message({type:"success",message:"选择成功!"}),a.address=e,a.dialogVisible=!1,a.actForm.place=e+";"+t[0]+","+t[1]}).catch(function(){a.$message({type:"info",message:"重新选择"})})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("heder"),t._v(" "),a("div",{staticClass:"yetou"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),t._v(" "),a("el-breadcrumb-item",[t._v("信息")]),t._v(" "),a("el-breadcrumb-item",[t._v("创建活动")])],1)],1),t._v(" "),a("el-divider",[a("i",{staticClass:"el-icon-edit-outline"})]),t._v(" "),a("div",{staticClass:"wrapper"},[a("div",{staticClass:"accountNumberInfo"},[a("h2",{staticClass:"title"},[t._v("活动基本信息")]),t._v(" "),a("el-form",{staticClass:"demo-ruleForm ",attrs:{model:t.actForm,"status-icon":"","label-width":"130px"}},[a("el-form-item",{attrs:{label:"活动主题/名称","hide-required-asterisk":"true"}},[a("el-input",{model:{value:t.actForm.title,callback:function(e){t.$set(t.actForm,"title",e)},expression:"actForm.title"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"活动持续日期","hide-required-asterisk":"true"}},[a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy 年 MM 月 dd 日","value-format":"timestamp"},on:{change:t.getTimestamp},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)]),t._v(" "),a("el-form-item",{attrs:{label:"活动地点","hide-required-asterisk":"true"}},[a("el-button",{on:{click:function(e){t.dialogVisible=!0}}},[t._v(" 选择地址")]),t._v(" "),a("p",[t._v(t._s(this.address))])],1),t._v(" "),a("el-form-item",{attrs:{label:"活动类型"}},[a("el-popover",{attrs:{placement:"left",title:"提醒",width:"200",trigger:"hover",content:"活动类型请用英文版‘ , ’ 分割输入！ 比如：“卫生健康,环境保护"}},[a("el-input",{attrs:{slot:"reference"},slot:"reference",model:{value:t.actForm.tag,callback:function(e){t.$set(t.actForm,"tag",e)},expression:"actForm.tag"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"活动需求人数","hide-required-asterisk":"true"}},[a("el-input",{model:{value:t.actForm.target_num,callback:function(e){t.$set(t.actForm,"target_num",t._n(e))},expression:"actForm.target_num"}})],1)],1),t._v(" "),a("h2",{staticClass:"title"},[t._v("活动其他信息")]),t._v(" "),a("el-form",{staticClass:"demo-ruleForm ",attrs:{model:t.actForm,"status-icon":"","label-width":"130px"}},[a("el-form-item",{attrs:{label:"活动联系人","hide-required-asterisk":"true"}},[a("el-input",{model:{value:t.actForm.representative,callback:function(e){t.$set(t.actForm,"representative",e)},expression:"actForm.representative"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"活动联系人手机号","hide-required-asterisk":"true"}},[a("el-input",{model:{value:t.actForm.representative_phone,callback:function(e){t.$set(t.actForm,"representative_phone",e)},expression:"actForm.representative_phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:" 活动描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.actForm.desc,callback:function(e){t.$set(t.actForm,"desc",e)},expression:"actForm.desc"}})],1),t._v(" "),a("el-form-item",[a("el-popover",{attrs:{placement:"right",width:"160"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("p",[t._v("确定创建此活动吗？")]),t._v(" "),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.addAct}},[t._v("确定")])],1),t._v(" "),a("el-button",{attrs:{slot:"reference",type:"danger",round:""},slot:"reference"},[t._v("创建活动")])],1)],1)],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:"选择地址",visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("xmap",{attrs:{width:"920px",height:"500px",lnglat:t.test,isShow:!0},on:{location:t.location}})],1)],1)},staticRenderFns:[]};var m=a("VU/8")(n,c,!1,function(t){a("It7m")},"data-v-5f1d6cf2",null);e.default=m.exports}});
//# sourceMappingURL=9.e0256ec9e23aa0f726d9.js.map